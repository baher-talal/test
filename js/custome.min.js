var server_url = 'https://egy-map.com/'; function filter_president_calendar(){var e=$("#calendar_category").find("option:selected").val(),t=$("#calendar_date").val();""==e&&""==t||$.ajax({type:"GET",url:server_url+"filter-president-calendar?category="+e+"&date="+t,success:function(e){$("#load_more_posts").html(e)}})}"http://localhost/"===(server_url="https://egy-map.com/")&&(server_url+="egy-mapv2/"),$("#sharer_facebook").attr("data-url"),$("#sharer_twitter").attr("data-url"),$("#sharer_email").attr("data-url"),$("#sharer_whatsapp").attr("data-url"),$("#sharer_linkedin").attr("data-url"),$(".popup_video, .popup_matterport").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(document).on("click",".popup_video_ajax, .popup_matterport_ajax",function(e){$(this).magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),e.preventDefault()}),$("a.btn-gallery").on("click",function(e){e.preventDefault();var t=$(this).attr("href");$(t).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}).magnificPopup("open")}),$(document).on("click","a.btn-gallery-ajax",function(e){e.preventDefault();var t=$(this).attr("href");$(t).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}).magnificPopup("open")}),$(document).on("focus change keyup blur click",".autocomplete_projects_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"searchprojects",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},position:{my:"right top",at:"right bottom"},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_projects_txt").val(a[0]),window.location=a[1]}})}),$(document).on("focus change keyup blur click",".autocomplete_initiatives_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"search-initiatives",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_initiatives_txt").val(a[0]),window.location=a[1]}})}),$(document).on("focus change keyup blur click",".autocomplete_ministries_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"ajax-ministries",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_ministries_txt").val(a[0]),window.location=a[1]}})}),$(document).on("focus change keyup blur click",".autocomplete_governorates_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"ajax-governorates",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_governorates_txt").val(a[0]),window.location=a[1]}})}),$(document).on("focus change keyup blur click",".autocomplete_egyptianideas_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"ajax-egyptian-ideas",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_egyptianideas_txt").val(a[0]),window.location=a[1]}})}),$(document).on("focus change keyup blur click",".autocomplete_roads_txt",function(){type=$(this).data("type"),type==type&&(autoTypeNo=0),$(this).autocomplete({source:function(e,t){$.ajax({url:server_url+"ajax-roads",dataType:"json",method:"post",data:{value:e.term,type:type},success:function(e){if(0===e.length)return notfind_data();t($.map(e,function(e){var t=e.split("|");return{label:t[autoTypeNo],value:t[autoTypeNo],data:e}}))}})},autoFocus:!0,minLength:0,select:function(e,t){var a=t.item.data.split("|");$(".autocomplete_roads_txt").val(a[0]),window.location=a[1]}})}),$("#location").change(function(){var e=$(this).val(),t=$("#category option:selected").val();if(""==t)var a=0;else a=t;var o=$("#project_case option:selected").val();if(""==o)var r=0;else r=o;$.ajax({type:"GET",url:server_url+"get-projects-category/0?governorate="+e+"&city=0&category="+a+"&case="+r,cache:!1,success:function(e){$("#category").html(e).selectpicker("refresh")}}),$.ajax({type:"GET",url:server_url+"get-project-cases/0?governorate="+e+"&city=0&category="+a+"&case="+r,cache:!1,success:function(e){$("#project_case").html(e).selectpicker("refresh")}})}),$("#category").change(function(){var e=$(this).val(),t=$("#location option:selected").val();if(""==t)var a=0;else a=t;var o=$("#project_case option:selected").val();if(""==o)var r=0;else r=o;$.ajax({type:"GET",url:server_url+"get-location-list/0?governorate="+a+"&city=0&category="+e+"&case="+r,cache:!1,success:function(e){$("#location").html(e).selectpicker("refresh")}}),$.ajax({type:"GET",url:server_url+"get-projects-category/0?governorate="+a+"&city=0&category="+e+"&case="+r,cache:!1,success:function(e){$("#category").html(e).selectpicker("refresh")}}),$.ajax({type:"GET",url:server_url+"get-project-cases/0?governorate="+a+"&city=0&category="+e+"&case="+r,cache:!1,success:function(e){$("#project_case").html(e).selectpicker("refresh")}})}),$("#project_case").change(function(){var e=$(this).val(),t=$("#location option:selected").val();if(""==t)var a=0;else a=t;var o=$("#category option:selected").val();if(""==o)var r=0;else r=o;$.ajax({type:"GET",url:server_url+"get-location-list/0?governorate="+a+"&city=0&category="+r+"&case="+e,cache:!1,success:function(e){$("#location").html(e).selectpicker("refresh")}}),$.ajax({type:"GET",url:server_url+"get-projects-category/0?governorate="+a+"&city=0&category="+r+"&case="+e,cache:!1,success:function(e){$("#category").html(e).selectpicker("refresh")}}),$.ajax({type:"GET",url:server_url+"get-project-cases/0?governorate="+a+"&city=0&category="+r+"&case="+e,cache:!1,success:function(e){$("#project_case").html(e).selectpicker("refresh")}})}),$("#calendar_category").change(function(){filter_president_calendar()}),$("#calendar_date").change(function(){filter_president_calendar()}); function notfind_data(){}

$(document).on('focus change keyup blur click','.autocomplete_services_txt',function(){
    type = $(this).data('type'); 
    if(type == type )autoTypeNo=0;      
    $(this).autocomplete({
        source: function( request, response ) {
            $.ajax({
                url     : server_url+'searchservices',
                dataType: "json",
                method  : 'post',
                data: { 
                    value : request.term,
                    type  : type,  
                },             
                success: function( data ) {
                    if(data.length === 0){
                            return notfind_data();   
                    }                     
                    response( $.map( data, function( item ) {
                        var code = item.split("|");
                        return {
                            label: code[autoTypeNo],
                            value: code[autoTypeNo],
                            data : item
                        }
                    }));
                }
            });
        },
        position: { my : "right top", at: "right bottom" },
        autoFocus: true,            
        minLength: 0,
        select: function( event, ui ) {
        var names = ui.item.data.split("|");               
            $('.autocomplete_services_txt').val(names[0]);
            window.location =names[1]; 
        },                
    });
});